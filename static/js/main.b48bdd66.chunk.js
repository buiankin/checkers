(this.webpackJsonpcheckers=this.webpackJsonpcheckers||[]).push([[0],{13:function(e,t,i){},14:function(e,t,i){},18:function(e,t,i){"use strict";i.r(t);var r=i(1),a=i.n(r),s=i(5),n=i.n(s),o=(i(13),i(8)),l=(i(14),i(7)),c=i(0),u=i(3),h=i(4),d=function(){function e(){Object(u.a)(this,e),this.initialRow=0,this.initialCol=0,this.startRow=0,this.startCol=0,this.endRow=0,this.endCol=0,this.listCaptureRow=[],this.listCaptureCol=[],this.listVisitedRow=[],this.listVisitedCol=[],this.capturedSquares=new Set,this.state=[]}return Object(h.a)(e,null,[{key:"fill_1",value:function(t,i,r,a,s){var n=new e;return n.startRow=t,n.startCol=i,n.endRow=r,n.endCol=a,n.state=s,n.listCaptureRow=[],n.listCaptureCol=[],n.listVisitedRow=[],n.listVisitedCol=[],n.capturedSquares=new Set,n}},{key:"fill_2",value:function(t){var i=new e;return i.initialRow=t.initialRow,i.initialCol=t.initialCol,i.startRow=t.startRow,i.startCol=t.startCol,i.endRow=t.endRow,i.endCol=t.endCol,i.listVisitedRow=t.listVisitedRow.slice(),i.listVisitedCol=t.listVisitedCol.slice(),i.listCaptureRow=t.listCaptureRow.slice(),i.listCaptureCol=t.listCaptureCol.slice(),i.capturedSquares=new Set,t.capturedSquares.forEach((function(e){i.capturedSquares.add(e)})),i.state=[],t.state.forEach((function(e){i.state.push(e.slice())})),i}}]),e}(),b=function(){function e(){Object(u.a)(this,e),this.board=[],this.currentPlayer=1,this.timeLimit=3,this.russianRules=!1}return Object(h.a)(e,[{key:"setCurrentState",value:function(e,t,i){this.currentPlayer=t,this.timeLimit=i;for(var r=0;r<8;r++)for(var a=0;a<8;a++)e[r][a]>=0&&(this.board[r][a]=e[r][a]%10)}},{key:"newGame",value:function(){this.board=new Array(8).fill(0).map((function(){return new Array(8).fill(0)}));for(var e=0;e<3;e++)for(var t=0;t<8;t+=2)1===(1&e)?(this.board[e][t+1]=-1,this.board[e][t]=1):(this.board[e][t]=-1,this.board[e][t+1]=1);for(var i=3;i<5;i++)for(var r=0;r<8;r+=2)1===(1&i)?(this.board[i][r+1]=-1,this.board[i][r]=0):(this.board[i][r]=-1,this.board[i][r+1]=0);for(var a=5;a<8;a++)for(var s=0;s<8;s+=2)1===(1&a)?(this.board[a][s+1]=-1,this.board[a][s]=2):(this.board[a][s]=-1,this.board[a][s+1]=2)}},{key:"getLegalMoves",value:function(e){for(var t=[],i=[],r=0;r<8;r++)for(var a=0;a<8;a++)1===this.currentPlayer?1!==this.board[r][a]&&3!==this.board[r][a]||(this.getJumps(i,null,this.board[r][a],r,a,e),0===i.length&&this.getSlides(t,this.board[r][a],r,a,this.board)):2!==this.board[r][a]&&4!==this.board[r][a]||(this.getJumps(i,null,this.board[r][a],r,a,e),0===i.length&&this.getSlides(t,this.board[r][a],r,a,this.board));return 0===i.length?t:i}},{key:"getSlides",value:function(t,i,r,a,s){var n=[],o=[],l=[];switch(i){case 1:n.push(r+1),n.push(r+1),o.push(a+1),o.push(a-1);break;case 2:n.push(r-1),n.push(r-1),o.push(a+1),o.push(a-1);break;case 3:case 4:if(!this.russianRules){n.push(r+1),n.push(r+1),n.push(r-1),n.push(r-1),o.push(a+1),o.push(a-1),o.push(a+1),o.push(a-1);break}for(var c=0;c<4;c++)for(var u=r,h=a,b=e.directions[c].y,m=e.directions[c].x,p=1;p<=7&&(h+=m,!((u+=b)<0||u>7||h<0||h>7));p++)n.push(u),o.push(h),l.push({len:p,dir_y:e.directions[c].y,dir_x:e.directions[c].x})}for(var g=n.length,f=0;f<g;f++)if(!(n[f]<0||n[f]>7||o[f]<0||o[f]>7)&&0===s[n[f]][o[f]]){if((3===i||4===i)&&this.russianRules){for(var w=!1,v=l[f],y=1;y<l[f].len;y++)if(0!==s[r+v.dir_y*y][a+v.dir_x*y]){w=!0;break}if(w)continue}t.push(d.fill_1(r,a,n[f],o[f],s))}}},{key:"getJumps",value:function(t,i,r,a,s,n){var o=[],l=[],c=[],u=[],h=[];if(this.russianRules)switch(r){case 1:case 2:o.push(a+2),o.push(a+2),o.push(a-2),o.push(a-2),l.push(s-2),l.push(s+2),l.push(s-2),l.push(s+2),c.push(a+1),c.push(a+1),c.push(a-1),c.push(a-1),u.push(s-1),u.push(s+1),u.push(s-1),u.push(s+1);break;case 3:case 4:for(var b=0;b<4;b++)for(var m=e.directions[b].y,p=e.directions[b].x,g=a+m,f=s+p,w=1;w<=7&&(f+=p,!((g+=m)<0||g>7||f<0||f>7));w++)o.push(g),l.push(f),c.push(g-m),u.push(f-p),h.push({len:w,dir_y:e.directions[b].y,dir_x:e.directions[b].x})}else switch(r){case 1:o.push(a+2),o.push(a+2),l.push(s-2),l.push(s+2),c.push(a+1),c.push(a+1),u.push(s-1),u.push(s+1);break;case 2:o.push(a-2),o.push(a-2),l.push(s-2),l.push(s+2),c.push(a-1),c.push(a-1),u.push(s-1),u.push(s+1);break;case 3:case 4:o.push(a+2),o.push(a+2),o.push(a-2),o.push(a-2),l.push(s-2),l.push(s+2),l.push(s-2),l.push(s+2),c.push(a+1),c.push(a+1),c.push(a-1),c.push(a-1),u.push(s-1),u.push(s+1),u.push(s-1),u.push(s+1)}for(var v=o.length,y=!1,C=new Array(v).fill(!1),R=0;R<v;R++)if(!(o[R]<0||o[R]>7||l[R]<0||l[R]>7)){if(null!==i){if(0!==n[o[R]][l[R]]&&n[o[R]][l[R]]!==n[i.initialRow][i.initialCol])continue;if(i.capturedSquares.has(100*c[R]+u[R]))continue}else if(0!==n[o[R]][l[R]])continue;if((3===r||4===r)&&this.russianRules){for(var k=!1,A=h[R],j=1;j<h[R].len;j++)if(0!==n[a+A.dir_y*j][s+A.dir_x*j]){k=!0;break}if(k)continue}1===this.currentPlayer&&2!==n[c[R]][u[R]]&&4!==n[c[R]][u[R]]||2===this.currentPlayer&&1!==n[c[R]][u[R]]&&3!==n[c[R]][u[R]]||(y=!0,C[R]=!0)}if(null===i||y){if(null===i&&y)for(var O=0;O<v;O++)if(C[O]){var S=d.fill_1(a,s,o[O],l[O],n);S.initialRow=a,S.initialCol=s,S.startRow=a,S.startCol=s,S.endRow=o[O],S.endCol=l[O],S.listCaptureRow.push(c[O]),S.listCaptureCol.push(u[O]),S.listVisitedRow.push(o[O]),S.listVisitedCol.push(l[O]),S.capturedSquares.add(100*c[O]+u[O]),this.getJumps(t,S,r,S.endRow,S.endCol,n)}if(null!==i&&y)for(var I=0;I<v;I++)if(C[I]){var M=d.fill_2(i);M.startRow=a,M.startCol=s,M.endRow=o[I],M.endCol=l[I],M.listCaptureRow.push(c[I]),M.listCaptureCol.push(u[I]),M.listVisitedRow.push(o[I]),M.listVisitedCol.push(l[I]),M.capturedSquares.add(100*c[I]+u[I]),this.getJumps(t,M,r,M.endRow,M.endCol,n)}}else t.push(i)}},{key:"applyMove",value:function(e,t){if(0===e.listCaptureRow.length)t[e.endRow][e.endCol]=t[e.startRow][e.startCol],1===t[e.startRow][e.startCol]&&7===e.endRow&&(t[e.endRow][e.endCol]+=2),2===t[e.startRow][e.startCol]&&0===e.endRow&&(t[e.endRow][e.endCol]+=2),t[e.startRow][e.startCol]=0;else{for(var i=0;i<e.listCaptureRow.length;i++)t[e.listCaptureRow[i]][e.listCaptureCol[i]]=0;t[e.endRow][e.endCol]=t[e.initialRow][e.initialCol],1===t[e.initialRow][e.initialCol]&&7===e.endRow&&(t[e.endRow][e.endCol]+=2),2===t[e.initialRow][e.initialCol]&&0===e.endRow&&(t[e.endRow][e.endCol]+=2),t[e.initialRow][e.initialCol]=0}this.currentPlayer=1===this.currentPlayer?2:1}},{key:"printListMoves",value:function(e){if(0===e[0].listCaptureRow.length)for(var t=0;t<e.length;t++)console.debug("Move "+t+": ("+e[t].startRow+","+e[t].startCol+") --\x3e ("+e[t].endRow+","+e[t].endCol+")");else{for(var i=0;i<e.length;i++){console.debug("\n"),console.debug("Move "+i+": ("+e[i].initialRow+","+e[i].initialCol+")");for(var r=0;r<e[i].listVisitedRow.length;r++)console.debug(" --\x3e ("+e[i].listVisitedRow[r]+","+e[i].listVisitedCol[r]+")")}console.debug("")}console.debug("")}},{key:"printMove",value:function(e){if(0===e.listCaptureRow.length)console.debug("Move : ("+e.startRow+","+e.startCol+") --\x3e ("+e.endRow+","+e.endCol+")");else{console.debug("Move : ("+e.initialRow+","+e.initialCol+")");for(var t=0;t<e.listVisitedRow.length;t++)console.debug(" --\x3e ("+e.listVisitedRow[t]+","+e.listVisitedCol[t]+")");console.debug("")}console.debug("")}}],[{key:"EmptyGameStatic",value:function(){return new e}},{key:"GameStatic",value:function(t){var i=new e;i.board=[];for(var r=0;r<t.board.length;r++)i.board.push(t.board[r].slice());return i.currentPlayer=t.currentPlayer,i.timeLimit=t.timeLimit,i}}]),e}();b.directions=[{y:1,x:1},{y:-1,x:1},{y:1,x:-1},{y:-1,x:-1}];var m=b,p=function(){function e(t,i){Object(u.a)(this,e),this.maximizingPlayer=0,this.maxDepth=0,this.timeLimit=2,this.heuristicType=0,this.startTime=0,this.currentTime=0,this.outOfTime=!1,this.numAllyPieces=0,this.numAllyKings=0,this.numOppPieces=0,this.numOppKings=0,this.maximizingPlayer=t,this.heuristicType=i}return Object(h.a)(e,[{key:"alphaBetaSearch",value:function(e){var t=new Date;this.startTime=t.getTime(),this.getBoardStatus(e),this.outOfTime=!1;var i=0,r=0,a=null,s=[],n=e.getLegalMoves(e.board);if(1===n.length)return console.log("Searched to depth 0 in 0 seconds."),n[0];for(this.maxDepth=0;this.maxDepth<15&&!this.outOfTime;this.maxDepth++){s=[];for(var o=Number.NEGATIVE_INFINITY,l=0;l<n.length;l++){var c=n[l],u=m.GameStatic(e);u.applyMove(c,u.board);var h=this.minVal(u,Number.NEGATIVE_INFINITY,Number.MAX_VALUE,0);if(this.outOfTime)break;if(h===o&&s.push(c),h>o&&(s.length=0,s.push(c),o=h),o===Number.MAX_VALUE)break}if(!this.outOfTime)a=s[Math.floor(Math.random()*s.length)],r=this.maxDepth,i=o;if(i===Number.MAX_VALUE)break}return console.log("Searched to depth "+r+" in "+(this.currentTime-this.startTime)/1e3+" seconds."),a}},{key:"cutoffTest",value:function(e,t){return 0===e||t===this.maxDepth}},{key:"evalFcn",value:function(e){switch(this.heuristicType){case 1:return this.easyHeuristic(e);case 2:return this.mediumHeuristic(e);case 3:default:return this.hardHeuristic(e)}}},{key:"hardHeuristic",value:function(e){for(var t=e.board.length,i=e.board[0].length,r=0,a=0,s=0,n=0,o=0,l=0;l<t;l++)for(var c=0;c<i;c++)if(1===this.maximizingPlayer)switch(e.board[l][c]){case 1:a++,r+=50*this.numDefendingNeighbors(l,c,e.board)+this.backBonus(l)+15*l+this.middleBonus(l,c);break;case 2:n++,r-=50*this.numDefendingNeighbors(l,c,e.board)+this.backBonus(l)+15*(7-l)+this.middleBonus(l,c);break;case 3:s++,r+=this.middleBonus(l,c);break;case 4:o++,r-=this.middleBonus(l,c)}else switch(e.board[l][c]){case 1:n++,r-=50*this.numDefendingNeighbors(l,c,e.board)+this.backBonus(l)+15*l+this.middleBonus(l,c);break;case 2:a++,r+=50*this.numDefendingNeighbors(l,c,e.board)+this.backBonus(l)+15*(7-l)+this.middleBonus(l,c);break;case 3:o++,r-=this.middleBonus(l,c);break;case 4:s++,r+=this.middleBonus(l,c)}if(this.numAllyPieces+this.numAllyKings>this.numOppPieces+this.numOppKings&&n+o!==0&&this.numOppPieces+this.numOppKings!==0&&1!==this.numOppKings&&((a+s)/(n+o)>(this.numAllyPieces+this.numAllyKings)/(this.numOppPieces+this.numOppKings)?r+=150:r-=150),r+=600*a+1e3*s-600*n-1e3*o,this.numOppPieces+this.numOppKings<6||this.numAllyPieces+this.numAllyKings<6){var u=e.currentPlayer;e.currentPlayer=1;var h=e.getLegalMoves(e.board);e.currentPlayer=2;var d=e.getLegalMoves(e.board);if(e.currentPlayer=u,0===h.length)return 1===this.maximizingPlayer?Number.NEGATIVE_INFINITY:Number.MAX_VALUE;if(0===d.length)return 2===this.maximizingPlayer?Number.NEGATIVE_INFINITY:Number.MAX_VALUE}return n+o===0&&a+s>0&&(r=Number.MAX_VALUE),a+s===0&&n+o>0&&(r-=Number.MIN_VALUE),r}},{key:"mediumHeuristic",value:function(e){for(var t=e.board.length,i=e.board[0].length,r=0,a=0;a<t;a++)for(var s=0;s<i;s++)if(1===this.maximizingPlayer)switch(e.board[a][s]){case 1:r+=3+.5*a+this.numDefendingNeighbors(a,s,e.board),0!==s&&8!==s||(r+=1),0===a&&(r+=2);break;case 2:r-=3+.5*(7-a)+this.numDefendingNeighbors(a,s,e.board),0!==s&&8!==s||(r-=1),7===a&&(r-=2);break;case 3:r+=5+this.numDefendingNeighbors(a,s,e.board),0!==s&&8!==s||(r+=1),0===a&&(r+=2);break;case 4:r-=5+this.numDefendingNeighbors(a,s,e.board),0!==s&&8!==s||(r-=1),7===a&&(r-=2)}else switch(e.board[a][s]){case 1:r-=3+.5*a+this.numDefendingNeighbors(a,s,e.board),0!==s&&8!==s||(r-=1),0===a&&(r-=2);break;case 2:r+=3+.5*(7-a)+this.numDefendingNeighbors(a,s,e.board),0!==s&&8!==s||(r+=1),7===a&&(r+=2);break;case 3:r-=5+this.numDefendingNeighbors(a,s,e.board),0!==s&&8!==s||(r-=1),0===a&&(r-=2);break;case 4:r+=5+this.numDefendingNeighbors(a,s,e.board),0!==s&&8!==s||(r+=1),7===a&&(r+=2)}return r}},{key:"easyHeuristic",value:function(e){for(var t=e.board.length,i=e.board[0].length,r=0,a=0;a<t;a++)for(var s=0;s<i;s++)if(1===this.maximizingPlayer)switch(e.board[a][s]){case 1:r+=3;break;case 2:r-=3;break;case 3:r+=5;break;case 4:r-=5}else switch(e.board[a][s]){case 1:r-=3;break;case 2:r+=3;break;case 3:r-=5;break;case 4:r+=5}return r}},{key:"maxVal",value:function(e,t,i,r){var a=this,s=new Date;if(this.currentTime=s.getTime(),this.currentTime-this.startTime>=990*this.timeLimit)return this.outOfTime=!0,0;var n=e.getLegalMoves(e.board);if(this.cutoffTest(n.length,r))return this.evalFcn(e);var o=Number.NEGATIVE_INFINITY;return n.forEach((function(s){var n=m.GameStatic(e);if(n.applyMove(s,n.board),(o=Math.max(o,a.minVal(n,t,i,r+1)))>=i)return o;t=Math.max(t,o)})),o}},{key:"minVal",value:function(e,t,i,r){var a=this,s=new Date;if(this.currentTime=s.getTime(),this.currentTime-this.startTime>990*this.timeLimit)return this.outOfTime=!0,0;var n=e.getLegalMoves(e.board);if(this.cutoffTest(n.length,r))return this.evalFcn(e);var o=Number.MAX_VALUE;return n.forEach((function(s){var n=m.GameStatic(e);if(n.applyMove(s,n.board),(o=Math.min(o,a.maxVal(n,t,i,r+1)))<=t)return o;i=Math.min(i,o)})),o}},{key:"numDefendingNeighbors",value:function(e,t,i){var r=0;switch(i[e][t]){case 1:e+1<i.length&&t+1<i[0].length&&1===(1&i[e+1][t+1])&&(r+=1),e+1<i.length&&t-1>=0&&1===(1&i[e+1][t-1])&&(r+=1);break;case 2:e-1>=0&&t+1<i[0].length&&0===(1&i[e-1][t+1])&&(r+=1),e-1>=0&&t-1>=0&&0===(1&i[e-1][t-1])&&(r+=1);break;case 3:e+1<i.length&&t+1<i[0].length&&1===(1&i[e+1][t+1])&&(r+=1),e+1<i.length&&t-1>=0&&1===(1&i[e+1][t-1])&&(r+=1),e-1>=0&&t+1<i[0].length&&1===(1&i[e-1][t+1])&&(r+=1),e-1>=0&&t-1>=0&&1===(1&i[e-1][t-1])&&(r+=1);break;case 4:e+1<i.length&&t+1<i[0].length&&0===(1&i[e+1][t+1])&&(r+=1),e+1<i.length&&t-1>=0&&0===(1&i[e+1][t-1])&&(r+=1),e-1>=0&&t+1<i[0].length&&0===(1&i[e-1][t+1])&&(r+=1),e-1>=0&&t-1>=0&&0===(1&i[e-1][t-1])&&(r+=1)}return r}},{key:"backBonus",value:function(e){return 1===this.maximizingPlayer&&0===e||2===this.maximizingPlayer&&7===e?100:0}},{key:"middleBonus",value:function(e,t){return 100-10*(Math.abs(4-t)+Math.abs(4-e))}},{key:"getBoardStatus",value:function(e){var t=e.board.length,i=e.board[0].length;this.numAllyPieces=0,this.numAllyKings=0,this.numOppPieces=0,this.numOppKings=0;for(var r=0;r<t;r++)for(var a=0;a<i;a++)if(1===this.maximizingPlayer)switch(e.board[r][a]){case 1:this.numAllyPieces++;break;case 2:this.numOppPieces++;break;case 3:this.numAllyKings++;break;case 4:this.numOppKings++}else switch(e.board[r][a]){case 1:this.numOppPieces++;break;case 2:this.numAllyPieces++;break;case 3:this.numOppKings++;break;case 4:this.numAllyKings++}}}]),e}(),g={actionsToSend:[],character:"sber",respectfulAppeal:!0,russianRules:!1,backwardDirection:!1,players:[{isRobot:!1},{isRobot:!0}],playerTurn:1,gameOver:!1,playerWin:0,hasArrowSelectedItem:!1,arrowSelectedItemRow:4,arrowSelectedItemCol:4,isContiniousMoving:0,continiousMoving:[],continiousCaptured:[],hasSelectedItem:!1,selectedItemRow:0,selectedItemCol:0,gameBoard:[[0,11,0,21,0,31,0,41],[51,0,61,0,71,0,81,0],[0,91,0,101,0,111,0,121],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[132,0,142,0,152,0,162,0],[0,172,0,182,0,192,0,202],[212,0,222,0,232,0,242,0]]};function f(e){var t=m.EmptyGameStatic();return t.newGame(),t.setCurrentState(e.gameBoard,e.playerTurn,1),t.russianRules=e.russianRules,t.getLegalMoves(t.board)}function w(e,t){var i=[];if(e.gameBoard.forEach((function(e){i.push(e.slice())})),t.listCaptureCol.length>0){var r=t.listCaptureRow[0],a=t.listCaptureCol[0];i[r][a]=0}if(t.listCaptureCol.length>1){var s=i[t.initialRow][t.initialCol];i[t.initialRow][t.initialCol]=0,(7===t.listVisitedRow[0]&&s%10===1||0===t.listVisitedRow[0]&&s%10===2)&&(s+=2),i[t.listVisitedRow[0]][t.listVisitedCol[0]]=s;for(var n=[],o=[],l=0;l<t.listVisitedRow.length;l++)n.push({y:t.listVisitedRow[l],x:t.listVisitedCol[l]}),o.push({y:t.listCaptureRow[l],x:t.listCaptureCol[l]});return e.players[e.playerTurn-1]?Object(c.a)(Object(c.a)({},e),{},{gameBoard:i,isContiniousMoving:1,continiousMoving:n,continiousCaptured:o,hasSelectedItem:!0,selectedItemRow:t.listVisitedRow[0],selectedItemCol:t.listVisitedCol[0]}):Object(c.a)(Object(c.a)({},e),{},{gameBoard:i,isContiniousMoving:1,continiousMoving:n,continiousCaptured:o,hasSelectedItem:!1})}var u=i[t.startRow][t.startCol];return i[t.startRow][t.startCol]=0,(7===t.endRow&&u%10===1||0===t.endRow&&u%10===2)&&(u+=2),i[t.endRow][t.endCol]=u,v(Object(c.a)(Object(c.a)({},e),{},{gameBoard:i,isContiniousMoving:0,hasSelectedItem:!1}))}function v(e){if(e.gameOver)return e;var t=m.EmptyGameStatic();return t.newGame(),t.setCurrentState(e.gameBoard,3-e.playerTurn,3),t.russianRules=e.russianRules,0===t.getLegalMoves(t.board).length?Object(c.a)(Object(c.a)({},e),{},{gameOver:!0,playerWin:e.playerTurn}):Object(c.a)(Object(c.a)({},e),{},{playerTurn:3-e.playerTurn})}function y(e,t,i){var r=e.gameBoard[t][i];if(r>0){if(r%10===e.playerTurn||r%10===e.playerTurn+2){var a=f(e);if(0!==a.length){var s=null;if(a.forEach((function(e){e.listCaptureRow.length>0?e.initialRow===t&&e.initialCol===i&&(s=e):e.startRow===t&&e.startCol===i&&(s=e)})),null!==s)return Object(c.a)(Object(c.a)({},e),{},{hasSelectedItem:!0,selectedItemRow:t,selectedItemCol:i})}}}else if(0===r&&e.hasSelectedItem){var n=f(e),o=null;if(n.forEach((function(r){r.listCaptureCol.length>0?r.initialRow===e.selectedItemRow&&r.initialCol===e.selectedItemCol&&r.listVisitedRow[0]===t&&r.listVisitedCol[0]===i&&(o=r):r.startRow===e.selectedItemRow&&r.startCol===e.selectedItemCol&&r.endRow===t&&r.endCol===i&&(o=r)})),null!==o){var l=w(e,o);return Object(c.a)({},l)}}return Object(c.a)(Object(c.a)({},e),{},{hasSelectedItem:!1})}function C(e,t){if(e>=1&&e<=32){var i=Math.floor((e-1)/4),r=2*(e-1-4*i)+(i+1)%2;if(t)switch(r){case 0:r=6;break;case 1:r=7;break;case 2:r=4;break;case 3:r=5;break;case 4:r=2;break;case 5:r=3;break;case 6:r=0;break;case 7:r=1}return{row:i,col:r}}}var R=function(e,t){switch(t.type){case"character":return Object(c.a)(Object(c.a)({},e),{},{character:t.character_id,respectfulAppeal:"joy"!==t.character_id});case"change_direction":if(console.log("change_direction, userId={action.data?.userId}"),t.data){if(t.data.direction&&1===t.data.direction)return Object(c.a)(Object(c.a)({},e),{},{backwardDirection:!1});if(t.data.direction&&2===t.data.direction)return Object(c.a)(Object(c.a)({},e),{},{backwardDirection:!0})}return Object(c.a)(Object(c.a)({},e),{},{backwardDirection:!e.backwardDirection});case"fire123":if(t.data.n0){var i=C(t.data.n0,e.backwardDirection);if(i)return y(e,i.row,i.col)}else if(t.data.n1&&t.data.n2){var r=C(t.data.n1,e.backwardDirection),a=C(t.data.n2,e.backwardDirection);if(r&&a)return function(e,t,i,r,a){var s=e.gameBoard[t][i],n=e.gameBoard[r][a];if(s>0&&(s%10===e.playerTurn||s%10===e.playerTurn+2)&&0===n){var o=f(e),l=null;if(o.forEach((function(e){e.listCaptureCol.length>0?e.initialRow===t&&e.initialCol===i&&e.listVisitedRow[0]===r&&e.listVisitedCol[0]===a&&(l=e):e.startRow===t&&e.startCol===i&&e.endRow===r&&e.endCol===a&&(l=e)})),null!==l){var u=w(e,l);return Object(c.a)({},u)}}return e}(e,r.row,r.col,a.row,a.col)}return Object(c.a)({},e);case"go":case"go_enemy":return Object(c.a)({},e);case"tile_click":return y(e,t.row,t.column);case"piece_click":return y(e,t.row,t.column);case"arrow_down":return Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0,arrowSelectedItemRow:e.arrowSelectedItemRow>=7?7:e.arrowSelectedItemRow+1});case"arrow_up":return Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0,arrowSelectedItemRow:e.arrowSelectedItemRow>0?e.arrowSelectedItemRow-1:0});case"arrow_right":return Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0,arrowSelectedItemCol:e.arrowSelectedItemCol>=7?7:e.arrowSelectedItemCol+1});case"arrow_left":return Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0,arrowSelectedItemCol:e.arrowSelectedItemCol>0?e.arrowSelectedItemCol-1:0});case"arrow_ok":return e.hasArrowSelectedItem?y(e,e.arrowSelectedItemRow,e.arrowSelectedItemCol):Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0});case"move_robot":var s=m.EmptyGameStatic(),n=new p(e.playerTurn,1);if(s.newGame(),s.setCurrentState(e.gameBoard,e.playerTurn,3),s.russianRules=e.russianRules,0===s.getLegalMoves(s.board).length)return console.log("I am lost!"),Object(c.a)(Object(c.a)({},e),{},{gameOver:!0,playerWin:3-e.playerTurn});var o=n.alphaBetaSearch(s);return o?(s.applyMove(o,s.board),w(e,o)):e;case"continue_move_by_robot":if(0===e.isContiniousMoving||!e.players[e.playerTurn-1].isRobot)return e;var l=[];e.gameBoard.forEach((function(e){l.push(e.slice())}));var u=e.isContiniousMoving,h=l[e.continiousMoving[u-1].y][e.continiousMoving[u-1].x],d=e.continiousMoving.length-e.isContiniousMoving;return l[e.continiousMoving[u-1].y][e.continiousMoving[u-1].x]=0,l[e.continiousCaptured[u].y][e.continiousCaptured[u].x]=0,(7===e.continiousMoving[u].y&&h%10===1||0===e.continiousMoving[u].y&&h%10===2)&&(h+=2),l[e.continiousMoving[u].y][e.continiousMoving[u].x]=h,d>1?Object(c.a)(Object(c.a)({},e),{},{gameBoard:l,isContiniousMoving:e.isContiniousMoving+1}):v(Object(c.a)(Object(c.a)({},e),{},{gameBoard:l,isContiniousMoving:0}));default:throw new Error}},k=i(2),A=["0vmin","10vmin","20vmin","30vmin","40vmin","50vmin","60vmin","70vmin","80vmin","90vmin"],j=[[0,1,0,2,0,3,0,4],[5,0,6,0,7,0,8,0],[0,9,0,10,0,11,0,12],[13,0,14,0,15,0,16,0],[0,17,0,18,0,19,0,20],[21,0,22,0,23,0,24,0],[0,25,0,26,0,27,0,28],[29,0,30,0,31,0,32,0]],O=[[0,29,0,30,0,31,0,32],[25,0,26,0,27,0,28,0],[0,21,0,22,0,23,0,24],[17,0,18,0,19,0,20,0],[0,13,0,14,0,15,0,16],[9,0,10,0,11,0,12,0],[0,5,0,6,0,7,0,8],[1,0,2,0,3,0,4,0]],S=Object(r.memo)((function(){var e=Object(r.useReducer)(R,g),t=Object(o.a)(e,2),i=t[0],a=t[1],s=Object(r.useRef)(),n=Object(r.useRef)();function c(e){"ArrowDown"===e.key&&(e.preventDefault(),a({type:"arrow_down"})),"ArrowUp"===e.key&&(e.preventDefault(),a({type:"arrow_up"})),"ArrowLeft"===e.key&&(e.preventDefault(),a({type:"arrow_left"})),"ArrowRight"===e.key&&(e.preventDefault(),a({type:"arrow_right"})),"Enter"===e.key&&(e.preventDefault(),a({type:"arrow_ok"}))}function u(e){}function h(e,t,i){i.preventDefault(),a({type:"tile_click",row:e,column:t})}function d(e){for(var t=[],r=[],s=[],n=0,o=function(s){for(var o=function(o){var l=i.gameBoard[s][o],c=l%10;if(c===e||c===e+2){var u=3===c?{top:i.backwardDirection?A[7-s]:A[s],left:i.backwardDirection?A[7-o]:A[o],backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC+ElEQVRYR9VWMVbbQBD9I96z3YWcADgBpkisLqYIWqrYJwCfIHACyAkgJ8A5AaRilxSQTk4KzAkwJwh0dvKsyZtF68hCsi3DC8mW0uzO3z9//izhmRc9c3783wC0r86J+TbomOa8TM7NwNmrt1VeWLiUxDQcrm18/9KdB8TcAIyv2gC24qSfglBv/zUAp75a9oBrZv5sGSB6FwErm6HuFQUxFwPGV/sA9iJgXRJ6wDmAD0Go5XuhVRjAebW++LNcvgZwE3RMVbKZWiD1XyoNBivr3YvbIgjI+GoPUXQVfDs7mWXjma+2GTgioLURatEBsr5NO8u83mjA81bJ1IJbEL0A82HQMbvTNmpfye1JhXo5Gat9JfVnFeqVaWeYWnAAoh0w35GuBYdE9F42MXBR7vebeTTGqI+z6u10gShq5rFpxct8DCJbOmb+SE7RgkaYYKDnDYfNrL6OjWetNBgsp0FabVQqP+QSKtRWnMl16qt6nHzR5ZLOsSJ0IgJzC0RSVyaiXVdjW+c/xpPb884b0i1pdQbsS+KIqBEDuQpCXbcAkiLCcNhlz2uDaJWBtgp1y4KMjWdSv4/YBCxIYWVQqRwTUAfwtdTvN35VKo2kiC2AuLV6THQp9NmN5XJbDAbMXYqiltiuGI/qmMYkkRlfXQB4Ix7hKJdaq47ZkX3pMo58IOuGuhbsENGBSyiHboZaEuQuW+t7YxKV3YF524kyzZCEjAAkajzmaLF4xCN6znhmaDM7mKTeSXt2HZccXmNOmNfLUhI5sKjLpYFmecg4AEf5hF6edvu8/85DmHlXdcyhixsDMOrlGcRWFIiuBSci6lK//zLJ5INhlBdYNGEy3l0McXsm/z0AkEfVYwCMuimjtJnjuMhgmQVY3gAba8PkQW6wiK/PkmBaTOyEmQ+WTAbiqdW1Y/op1v0MqGY92Qq/iJ4Cz0QRup/aV0cAxh4dj0jec0MtfUYuAyJEApYekXS0lYGb9Asq04ieIlnRM/5dDRS9ybzxvwFIdrAs1qT1KgAAAABJRU5ErkJggg==)"}:4===c?{top:i.backwardDirection?A[7-s]:A[s],left:i.backwardDirection?A[7-o]:A[o],backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACyElEQVRYR9VWwVEbQRDsgdMbHIFFBIgIDBEgRWARgdFjl+IFflHcPoAIkCMAIkCOwBABcgSGt4TaNVe7qtVxJ+lOLmPv8253p6enp2cF77zknePj/wbgHO9JPFsrnbpM1mYgTdkSwQ8NTGLHWnmoA6I2AOfYB/DZB/1mjHT/GoCzMzaTBE8A7nzQ/fEYW8fHMqwKohYDzvEUwAmAPR/wHsBXY0S/V1qVAVxccHM8zrL/aYy0NJpz1Pp/TBJs9XryXAWBOMeTyQSPR0dyu8zBNGVXBNckDqwV1QGKvi266/yc7bU1bEua8lkEGwAujZHeooNpyicRiDHSjPc6xyEJWitbi+5wjhcADkm8KIBLEXzxhwZJgk4ZjR71TVG9gy4mE3TK2FTxrq/jRgRZ6UhcSVB0hkawQUKV3Cnqa288O40GmnmQXhu/AAyMkSDOKRnOcReAgt8MsbRzMhEGEU0mOBBBXwQk0Qs19nUOxlPa88Eb8i2pOgNw6gO3FQiJR2tlNwMQiwjAg4IAsE2ib60ceJCZ8czr98gfMpCeFc16l8T3RgPt0QjtWMQZAN04GmGo1qr0+YMacJ+Etpgyo7Z7Z4xoBqUrTTkQwSfvEYHyK2vl0Cei82NaxqkPFNHnHPWQKjasPWNkMA+Ar7Uak4rshUQ3iDLPkO6ZAoiGy4yj6YUkbkUwDMazRJtlg2k8Rju259Bx8fCaccKyXtaS6IVVXS4PtMhD8gAyyuf18qLsy/5HHtIzRi7DvhkAUS8vFFtVIM5RrX4/SfAhZvLNMCrbWDVgvD9K7I2HvAFQRtUqAEI3FZW2cBxXGSzLACsbYDNtGF8UPTjm9vwywf0enQOFD5ZCBvzUUkvWMb3yUkN6fUWr6MlW+UW0MprcBaUA0pTXIph5dNQNriM+DLX8HaUAVIj6zqsbNHdO34+Fyfy7JfhDmS+85t0Z+A3L4JeX/JQtUQAAAABJRU5ErkJggg==)"}:{top:i.backwardDirection?A[7-s]:A[s],left:i.backwardDirection?A[7-o]:A[o]},h=i.hasSelectedItem&&i.selectedItemRow===s&&i.selectedItemCol===o?"piece selected":"piece",d=(i.backwardDirection?O[7-s][7-o]:j[s][o]).toString();t.push(Object(k.jsx)("div",{className:h,id:"piece"+Math.floor(l/10).toString(),style:u,onClick:function(e){return function(e,t,i){i.preventDefault(),a({type:"piece_click",row:e,column:t})}(s,o,e)},children:d},Math.floor(l/10).toString())),r.push({checker:l,idx:n}),n++}},l=0;l<i.gameBoard[s].length;l++)o(l)},l=0;l<i.gameBoard.length;l++)o(l);r.sort((function(e,t){return e.checker-t.checker}));for(var c=0;c<r.length;c++)s.push(t[r[c].idx]);return s}return Object(r.useEffect)((function(){var e;n.current=(e=function(){return s.current},console.log("process.env.NODE_ENV="),console.log("production"),Object(l.a)({getState:e})),n.current.on("data",(function(e){var t,i=e.type,r=e.character,s=(e.navigation,e.action);e.insets,e.command;(r&&a({type:"character",character_id:r.id}),s&&a(s),"close_app"===i)&&(null===n||void 0===n||null===(t=n.current)||void 0===t||t.close())}))}),[]),Object(r.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",u),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",u)}})),Object(r.useEffect)((function(){i.players[i.playerTurn-1].isRobot&&(0!==i.isContiniousMoving?setTimeout((function(){a({type:"continue_move_by_robot"})}),3100):setTimeout((function(){a({type:"move_robot"})}),410))}),[i.isContiniousMoving,i.playerTurn,i.players]),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)("div",{className:"column",children:[Object(k.jsxs)("div",{className:"info",children:[Object(k.jsx)("h1",{children:"Checkers"}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{children:["Made by codethejason for ",Object(k.jsx)("a",{href:"http://fossasia.org",children:"FOSSASIA"})," 2015."]})]}),Object(k.jsxs)("div",{className:"stats",children:[Object(k.jsx)("h2",{children:"Game Statistics"}),Object(k.jsxs)("div",{className:"wrapper",children:[Object(k.jsx)("div",{id:"player1",children:Object(k.jsxs)("h3",{children:["Player 1 (",i.backwardDirection?"Bottom":"Top",")"]})}),Object(k.jsx)("div",{id:"player2",children:Object(k.jsxs)("h3",{children:["Player 2 ",i.backwardDirection?"Top":"Bottom"]})})]}),Object(k.jsx)("div",{className:"clearfix"}),Object(k.jsx)("div",{className:"turn",style:1===i.playerTurn?{background:"linear-gradient(to right, #BEEE62 50%, transparent 50%)"}:{background:"linear-gradient(to right, transparent 50%, #BEEE62 50%)"}}),Object(k.jsx)("span",{id:"winner"}),Object(k.jsx)("button",{id:"cleargame",onClick:function(e){e.preventDefault(),a({type:"change_direction",data:null})},children:"Reset Game"})]})]}),Object(k.jsx)("div",{className:"column",children:Object(k.jsxs)("div",{id:"board",onKeyDown:function(e){console.debug("key")},children:[Object(k.jsx)("div",{className:"tiles",children:function(){for(var e=[],t=0,r=function(r){for(var a=function(a){if(r%2===1){if(a%2===0){var s={top:i.backwardDirection?A[7-r]:A[r],left:i.backwardDirection?A[7-a]:A[a],color:"#FF3333"},n=(i.backwardDirection?O[7-r][7-a]:j[r][a]).toString();i.gameBoard[r][a]>0&&(n=""),e.push(Object(k.jsx)("div",{className:"tile",id:"tile"+t.toString(),style:s,onClick:function(e){return h(r,a,e)},children:n},t.toString())),t++}}else if(a%2===1){var o={top:i.backwardDirection?A[7-r]:A[r],left:i.backwardDirection?A[7-a]:A[a],color:"#FF3333"},l=(i.backwardDirection?O[7-r][7-a]:j[r][a]).toString();i.gameBoard[r][a]>0&&(l=""),e.push(Object(k.jsx)("div",{className:"tile",id:"tile"+t.toString(),style:o,onClick:function(e){return h(r,a,e)},children:l},t.toString())),t++}},s=0;s<i.gameBoard[r].length;s++)a(s)},a=0;a<i.gameBoard.length;a++)r(a);return e}()}),Object(k.jsxs)("div",{className:"pieces",children:[Object(k.jsx)("div",{className:"player1pieces",children:d(1)}),Object(k.jsx)("div",{className:"player2pieces",children:d(2)})]}),Object(k.jsx)("div",{className:"pult",children:function(){var e=[];if(i.hasArrowSelectedItem){var t={top:A[i.arrowSelectedItemRow],left:A[i.arrowSelectedItemCol]};e.push(Object(k.jsx)("div",{className:"selection",style:t}))}return e}()})]})})]})})),I=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(t){var i=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,n=t.getTTFB;i(e),r(e),a(e),s(e),n(e)}))};n.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(S,{})}),document.getElementById("root")),I()}},[[18,1,2]]]);
//# sourceMappingURL=main.b48bdd66.chunk.js.map