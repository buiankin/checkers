(this.webpackJsonpcheckers=this.webpackJsonpcheckers||[]).push([[0],{13:function(e,t,i){},14:function(e,t,i){},18:function(e,t,i){"use strict";i.r(t);var r=i(0),s=i.n(r),a=i(5),n=i.n(a),o=(i(13),i(8)),l=(i(14),i(7)),c=i(2),u=i(3),h=i(4),d=function(){function e(){Object(u.a)(this,e),this.initialRow=0,this.initialCol=0,this.startRow=0,this.startCol=0,this.endRow=0,this.endCol=0,this.listCaptureRow=[],this.listCaptureCol=[],this.listVisitedRow=[],this.listVisitedCol=[],this.capturedSquares=new Set,this.state=[]}return Object(h.a)(e,null,[{key:"fill_1",value:function(t,i,r,s,a){var n=new e;return n.startRow=t,n.startCol=i,n.endRow=r,n.endCol=s,n.state=a,n.listCaptureRow=[],n.listCaptureCol=[],n.listVisitedRow=[],n.listVisitedCol=[],n.capturedSquares=new Set,n}},{key:"fill_2",value:function(t){var i=new e;return i.initialRow=t.initialRow,i.initialCol=t.initialCol,i.startRow=t.startRow,i.startCol=t.startCol,i.endRow=t.endRow,i.endCol=t.endCol,i.listVisitedRow=t.listVisitedRow.slice(),i.listVisitedCol=t.listVisitedCol.slice(),i.listCaptureRow=t.listCaptureRow.slice(),i.listCaptureCol=t.listCaptureCol.slice(),i.capturedSquares=new Set,t.capturedSquares.forEach((function(e){i.capturedSquares.add(e)})),i.state=[],t.state.forEach((function(e){i.state.push(e.slice())})),i}}]),e}(),p=function(){function e(){Object(u.a)(this,e),this.board=[],this.currentPlayer=1,this.timeLimit=3,this.russianRules=!1}return Object(h.a)(e,[{key:"setCurrentState",value:function(e,t,i){this.currentPlayer=t,this.timeLimit=i;for(var r=0;r<8;r++)for(var s=0;s<8;s++)e[r][s]>=0&&(this.board[r][s]=e[r][s]%10)}},{key:"newGame",value:function(){this.board=new Array(8).fill(0).map((function(){return new Array(8).fill(0)}));for(var e=0;e<3;e++)for(var t=0;t<8;t+=2)1===(1&e)?(this.board[e][t+1]=-1,this.board[e][t]=1):(this.board[e][t]=-1,this.board[e][t+1]=1);for(var i=3;i<5;i++)for(var r=0;r<8;r+=2)1===(1&i)?(this.board[i][r+1]=-1,this.board[i][r]=0):(this.board[i][r]=-1,this.board[i][r+1]=0);for(var s=5;s<8;s++)for(var a=0;a<8;a+=2)1===(1&s)?(this.board[s][a+1]=-1,this.board[s][a]=2):(this.board[s][a]=-1,this.board[s][a+1]=2)}},{key:"getLegalMoves",value:function(e){for(var t=[],i=[],r=0;r<8;r++)for(var s=0;s<8;s++)1===this.currentPlayer?1!==this.board[r][s]&&3!==this.board[r][s]||(this.getJumps(i,null,this.board[r][s],r,s,e),0===i.length&&this.getSlides(t,this.board[r][s],r,s,this.board)):2!==this.board[r][s]&&4!==this.board[r][s]||(this.getJumps(i,null,this.board[r][s],r,s,e),0===i.length&&this.getSlides(t,this.board[r][s],r,s,this.board));return 0===i.length?t:i}},{key:"getSlides",value:function(t,i,r,s,a){var n=[],o=[],l=[];switch(i){case 1:n.push(r+1),n.push(r+1),o.push(s+1),o.push(s-1);break;case 2:n.push(r-1),n.push(r-1),o.push(s+1),o.push(s-1);break;case 3:case 4:if(!this.russianRules){n.push(r+1),n.push(r+1),n.push(r-1),n.push(r-1),o.push(s+1),o.push(s-1),o.push(s+1),o.push(s-1);break}for(var c=0;c<4;c++)for(var u=r,h=s,p=e.directions[c].y,m=e.directions[c].x,b=1;b<=7&&(h+=m,!((u+=p)<0||u>7||h<0||h>7));b++)n.push(u),o.push(h),l.push({len:b,dir_y:e.directions[c].y,dir_x:e.directions[c].x})}for(var g=n.length,f=0;f<g;f++)if(!(n[f]<0||n[f]>7||o[f]<0||o[f]>7)&&0===a[n[f]][o[f]]){if((3===i||4===i)&&this.russianRules){for(var w=!1,v=l[f],y=1;y<l[f].len;y++)if(0!==a[r+v.dir_y*y][s+v.dir_x*y]){w=!0;break}if(w)continue}t.push(d.fill_1(r,s,n[f],o[f],a))}}},{key:"getJumps",value:function(t,i,r,s,a,n){var o=[],l=[],c=[],u=[],h=[];if(this.russianRules)switch(r){case 1:case 2:o.push(s+2),o.push(s+2),o.push(s-2),o.push(s-2),l.push(a-2),l.push(a+2),l.push(a-2),l.push(a+2),c.push(s+1),c.push(s+1),c.push(s-1),c.push(s-1),u.push(a-1),u.push(a+1),u.push(a-1),u.push(a+1);break;case 3:case 4:for(var p=0;p<4;p++)for(var m=e.directions[p].y,b=e.directions[p].x,g=s+m,f=a+b,w=1;w<=7&&(f+=b,!((g+=m)<0||g>7||f<0||f>7));w++)o.push(g),l.push(f),c.push(g-m),u.push(f-b),h.push({len:w,dir_y:e.directions[p].y,dir_x:e.directions[p].x})}else switch(r){case 1:o.push(s+2),o.push(s+2),l.push(a-2),l.push(a+2),c.push(s+1),c.push(s+1),u.push(a-1),u.push(a+1);break;case 2:o.push(s-2),o.push(s-2),l.push(a-2),l.push(a+2),c.push(s-1),c.push(s-1),u.push(a-1),u.push(a+1);break;case 3:case 4:o.push(s+2),o.push(s+2),o.push(s-2),o.push(s-2),l.push(a-2),l.push(a+2),l.push(a-2),l.push(a+2),c.push(s+1),c.push(s+1),c.push(s-1),c.push(s-1),u.push(a-1),u.push(a+1),u.push(a-1),u.push(a+1)}for(var v=o.length,y=!1,C=new Array(v).fill(!1),R=0;R<v;R++)if(!(o[R]<0||o[R]>7||l[R]<0||l[R]>7)){if(null!==i){if(0!==n[o[R]][l[R]]&&n[o[R]][l[R]]!==n[i.initialRow][i.initialCol])continue;if(i.capturedSquares.has(100*c[R]+u[R]))continue}else if(0!==n[o[R]][l[R]])continue;if((3===r||4===r)&&this.russianRules){for(var A=!1,k=h[R],j=1;j<h[R].len;j++)if(0!==n[s+k.dir_y*j][a+k.dir_x*j]){A=!0;break}if(A)continue}1===this.currentPlayer&&2!==n[c[R]][u[R]]&&4!==n[c[R]][u[R]]||2===this.currentPlayer&&1!==n[c[R]][u[R]]&&3!==n[c[R]][u[R]]||(y=!0,C[R]=!0)}if(null===i||y){if(null===i&&y)for(var O=0;O<v;O++)if(C[O]){var S=d.fill_1(s,a,o[O],l[O],n);S.initialRow=s,S.initialCol=a,S.startRow=s,S.startCol=a,S.endRow=o[O],S.endCol=l[O],S.listCaptureRow.push(c[O]),S.listCaptureCol.push(u[O]),S.listVisitedRow.push(o[O]),S.listVisitedCol.push(l[O]),S.capturedSquares.add(100*c[O]+u[O]),this.getJumps(t,S,r,S.endRow,S.endCol,n)}if(null!==i&&y)for(var I=0;I<v;I++)if(C[I]){var M=d.fill_2(i);M.startRow=s,M.startCol=a,M.endRow=o[I],M.endCol=l[I],M.listCaptureRow.push(c[I]),M.listCaptureCol.push(u[I]),M.listVisitedRow.push(o[I]),M.listVisitedCol.push(l[I]),M.capturedSquares.add(100*c[I]+u[I]),this.getJumps(t,M,r,M.endRow,M.endCol,n)}}else t.push(i)}},{key:"applyMove",value:function(e,t){if(0===e.listCaptureRow.length)t[e.endRow][e.endCol]=t[e.startRow][e.startCol],1===t[e.startRow][e.startCol]&&7===e.endRow&&(t[e.endRow][e.endCol]+=2),2===t[e.startRow][e.startCol]&&0===e.endRow&&(t[e.endRow][e.endCol]+=2),t[e.startRow][e.startCol]=0;else{for(var i=0;i<e.listCaptureRow.length;i++)t[e.listCaptureRow[i]][e.listCaptureCol[i]]=0;t[e.endRow][e.endCol]=t[e.initialRow][e.initialCol],1===t[e.initialRow][e.initialCol]&&7===e.endRow&&(t[e.endRow][e.endCol]+=2),2===t[e.initialRow][e.initialCol]&&0===e.endRow&&(t[e.endRow][e.endCol]+=2),t[e.initialRow][e.initialCol]=0}this.currentPlayer=1===this.currentPlayer?2:1}},{key:"printListMoves",value:function(e){if(0===e[0].listCaptureRow.length)for(var t=0;t<e.length;t++)console.debug("Move "+t+": ("+e[t].startRow+","+e[t].startCol+") --\x3e ("+e[t].endRow+","+e[t].endCol+")");else{for(var i=0;i<e.length;i++){console.debug("\n"),console.debug("Move "+i+": ("+e[i].initialRow+","+e[i].initialCol+")");for(var r=0;r<e[i].listVisitedRow.length;r++)console.debug(" --\x3e ("+e[i].listVisitedRow[r]+","+e[i].listVisitedCol[r]+")")}console.debug("")}console.debug("")}},{key:"printMove",value:function(e){if(0===e.listCaptureRow.length)console.debug("Move : ("+e.startRow+","+e.startCol+") --\x3e ("+e.endRow+","+e.endCol+")");else{console.debug("Move : ("+e.initialRow+","+e.initialCol+")");for(var t=0;t<e.listVisitedRow.length;t++)console.debug(" --\x3e ("+e.listVisitedRow[t]+","+e.listVisitedCol[t]+")");console.debug("")}console.debug("")}}],[{key:"EmptyGameStatic",value:function(){return new e}},{key:"GameStatic",value:function(t){var i=new e;i.board=[];for(var r=0;r<t.board.length;r++)i.board.push(t.board[r].slice());return i.currentPlayer=t.currentPlayer,i.timeLimit=t.timeLimit,i}}]),e}();p.directions=[{y:1,x:1},{y:-1,x:1},{y:1,x:-1},{y:-1,x:-1}];var m=p,b=function(){function e(t,i){Object(u.a)(this,e),this.maximizingPlayer=0,this.maxDepth=0,this.timeLimit=2,this.heuristicType=0,this.startTime=0,this.currentTime=0,this.outOfTime=!1,this.numAllyPieces=0,this.numAllyKings=0,this.numOppPieces=0,this.numOppKings=0,this.maximizingPlayer=t,this.heuristicType=i}return Object(h.a)(e,[{key:"alphaBetaSearch",value:function(e){var t=new Date;this.startTime=t.getTime(),this.getBoardStatus(e),this.outOfTime=!1;var i=0,r=0,s=null,a=[],n=e.getLegalMoves(e.board);if(1===n.length)return console.log("Searched to depth 0 in 0 seconds."),n[0];for(this.maxDepth=0;this.maxDepth<15&&!this.outOfTime;this.maxDepth++){a=[];for(var o=Number.NEGATIVE_INFINITY,l=0;l<n.length;l++){var c=n[l],u=m.GameStatic(e);u.applyMove(c,u.board);var h=this.minVal(u,Number.NEGATIVE_INFINITY,Number.MAX_VALUE,0);if(this.outOfTime)break;if(h===o&&a.push(c),h>o&&(a.length=0,a.push(c),o=h),o===Number.MAX_VALUE)break}if(!this.outOfTime)s=a[Math.floor(Math.random()*a.length)],r=this.maxDepth,i=o;if(i===Number.MAX_VALUE)break}return console.log("Searched to depth "+r+" in "+(this.currentTime-this.startTime)/1e3+" seconds."),s}},{key:"cutoffTest",value:function(e,t){return 0===e||t===this.maxDepth}},{key:"evalFcn",value:function(e){switch(this.heuristicType){case 1:return this.easyHeuristic(e);case 2:return this.mediumHeuristic(e);case 3:default:return this.hardHeuristic(e)}}},{key:"hardHeuristic",value:function(e){for(var t=e.board.length,i=e.board[0].length,r=0,s=0,a=0,n=0,o=0,l=0;l<t;l++)for(var c=0;c<i;c++)if(1===this.maximizingPlayer)switch(e.board[l][c]){case 1:s++,r+=50*this.numDefendingNeighbors(l,c,e.board)+this.backBonus(l)+15*l+this.middleBonus(l,c);break;case 2:n++,r-=50*this.numDefendingNeighbors(l,c,e.board)+this.backBonus(l)+15*(7-l)+this.middleBonus(l,c);break;case 3:a++,r+=this.middleBonus(l,c);break;case 4:o++,r-=this.middleBonus(l,c)}else switch(e.board[l][c]){case 1:n++,r-=50*this.numDefendingNeighbors(l,c,e.board)+this.backBonus(l)+15*l+this.middleBonus(l,c);break;case 2:s++,r+=50*this.numDefendingNeighbors(l,c,e.board)+this.backBonus(l)+15*(7-l)+this.middleBonus(l,c);break;case 3:o++,r-=this.middleBonus(l,c);break;case 4:a++,r+=this.middleBonus(l,c)}if(this.numAllyPieces+this.numAllyKings>this.numOppPieces+this.numOppKings&&n+o!==0&&this.numOppPieces+this.numOppKings!==0&&1!==this.numOppKings&&((s+a)/(n+o)>(this.numAllyPieces+this.numAllyKings)/(this.numOppPieces+this.numOppKings)?r+=150:r-=150),r+=600*s+1e3*a-600*n-1e3*o,this.numOppPieces+this.numOppKings<6||this.numAllyPieces+this.numAllyKings<6){var u=e.currentPlayer;e.currentPlayer=1;var h=e.getLegalMoves(e.board);e.currentPlayer=2;var d=e.getLegalMoves(e.board);if(e.currentPlayer=u,0===h.length)return 1===this.maximizingPlayer?Number.NEGATIVE_INFINITY:Number.MAX_VALUE;if(0===d.length)return 2===this.maximizingPlayer?Number.NEGATIVE_INFINITY:Number.MAX_VALUE}return n+o===0&&s+a>0&&(r=Number.MAX_VALUE),s+a===0&&n+o>0&&(r-=Number.MIN_VALUE),r}},{key:"mediumHeuristic",value:function(e){for(var t=e.board.length,i=e.board[0].length,r=0,s=0;s<t;s++)for(var a=0;a<i;a++)if(1===this.maximizingPlayer)switch(e.board[s][a]){case 1:r+=3+.5*s+this.numDefendingNeighbors(s,a,e.board),0!==a&&8!==a||(r+=1),0===s&&(r+=2);break;case 2:r-=3+.5*(7-s)+this.numDefendingNeighbors(s,a,e.board),0!==a&&8!==a||(r-=1),7===s&&(r-=2);break;case 3:r+=5+this.numDefendingNeighbors(s,a,e.board),0!==a&&8!==a||(r+=1),0===s&&(r+=2);break;case 4:r-=5+this.numDefendingNeighbors(s,a,e.board),0!==a&&8!==a||(r-=1),7===s&&(r-=2)}else switch(e.board[s][a]){case 1:r-=3+.5*s+this.numDefendingNeighbors(s,a,e.board),0!==a&&8!==a||(r-=1),0===s&&(r-=2);break;case 2:r+=3+.5*(7-s)+this.numDefendingNeighbors(s,a,e.board),0!==a&&8!==a||(r+=1),7===s&&(r+=2);break;case 3:r-=5+this.numDefendingNeighbors(s,a,e.board),0!==a&&8!==a||(r-=1),0===s&&(r-=2);break;case 4:r+=5+this.numDefendingNeighbors(s,a,e.board),0!==a&&8!==a||(r+=1),7===s&&(r+=2)}return r}},{key:"easyHeuristic",value:function(e){for(var t=e.board.length,i=e.board[0].length,r=0,s=0;s<t;s++)for(var a=0;a<i;a++)if(1===this.maximizingPlayer)switch(e.board[s][a]){case 1:r+=3;break;case 2:r-=3;break;case 3:r+=5;break;case 4:r-=5}else switch(e.board[s][a]){case 1:r-=3;break;case 2:r+=3;break;case 3:r-=5;break;case 4:r+=5}return r}},{key:"maxVal",value:function(e,t,i,r){var s=this,a=new Date;if(this.currentTime=a.getTime(),this.currentTime-this.startTime>=990*this.timeLimit)return this.outOfTime=!0,0;var n=e.getLegalMoves(e.board);if(this.cutoffTest(n.length,r))return this.evalFcn(e);var o=Number.NEGATIVE_INFINITY;return n.forEach((function(a){var n=m.GameStatic(e);if(n.applyMove(a,n.board),(o=Math.max(o,s.minVal(n,t,i,r+1)))>=i)return o;t=Math.max(t,o)})),o}},{key:"minVal",value:function(e,t,i,r){var s=this,a=new Date;if(this.currentTime=a.getTime(),this.currentTime-this.startTime>990*this.timeLimit)return this.outOfTime=!0,0;var n=e.getLegalMoves(e.board);if(this.cutoffTest(n.length,r))return this.evalFcn(e);var o=Number.MAX_VALUE;return n.forEach((function(a){var n=m.GameStatic(e);if(n.applyMove(a,n.board),(o=Math.min(o,s.maxVal(n,t,i,r+1)))<=t)return o;i=Math.min(i,o)})),o}},{key:"numDefendingNeighbors",value:function(e,t,i){var r=0;switch(i[e][t]){case 1:e+1<i.length&&t+1<i[0].length&&1===(1&i[e+1][t+1])&&(r+=1),e+1<i.length&&t-1>=0&&1===(1&i[e+1][t-1])&&(r+=1);break;case 2:e-1>=0&&t+1<i[0].length&&0===(1&i[e-1][t+1])&&(r+=1),e-1>=0&&t-1>=0&&0===(1&i[e-1][t-1])&&(r+=1);break;case 3:e+1<i.length&&t+1<i[0].length&&1===(1&i[e+1][t+1])&&(r+=1),e+1<i.length&&t-1>=0&&1===(1&i[e+1][t-1])&&(r+=1),e-1>=0&&t+1<i[0].length&&1===(1&i[e-1][t+1])&&(r+=1),e-1>=0&&t-1>=0&&1===(1&i[e-1][t-1])&&(r+=1);break;case 4:e+1<i.length&&t+1<i[0].length&&0===(1&i[e+1][t+1])&&(r+=1),e+1<i.length&&t-1>=0&&0===(1&i[e+1][t-1])&&(r+=1),e-1>=0&&t+1<i[0].length&&0===(1&i[e-1][t+1])&&(r+=1),e-1>=0&&t-1>=0&&0===(1&i[e-1][t-1])&&(r+=1)}return r}},{key:"backBonus",value:function(e){return 1===this.maximizingPlayer&&0===e||2===this.maximizingPlayer&&7===e?100:0}},{key:"middleBonus",value:function(e,t){return 100-10*(Math.abs(4-t)+Math.abs(4-e))}},{key:"getBoardStatus",value:function(e){var t=e.board.length,i=e.board[0].length;this.numAllyPieces=0,this.numAllyKings=0,this.numOppPieces=0,this.numOppKings=0;for(var r=0;r<t;r++)for(var s=0;s<i;s++)if(1===this.maximizingPlayer)switch(e.board[r][s]){case 1:this.numAllyPieces++;break;case 2:this.numOppPieces++;break;case 3:this.numAllyKings++;break;case 4:this.numOppKings++}else switch(e.board[r][s]){case 1:this.numOppPieces++;break;case 2:this.numAllyPieces++;break;case 3:this.numOppKings++;break;case 4:this.numAllyKings++}}}]),e}(),g={actionsToSend:[],character:"sber",respectfulAppeal:!0,russianRules:!1,backwardDirection:!1,players:[{isRobot:!1},{isRobot:!0}],playerTurn:1,hasArrowSelectedItem:!1,arrowSelectedItemRow:4,arrowSelectedItemCol:4,isContiniousMoving:0,continiousMoving:[],continiousCaptured:[],hasSelectedItem:!1,selectedItemRow:0,selectedItemCol:0,gameBoard:[[0,11,0,21,0,31,0,41],[51,0,61,0,71,0,81,0],[0,91,0,101,0,111,0,121],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[132,0,142,0,152,0,162,0],[0,172,0,182,0,192,0,202],[212,0,222,0,232,0,242,0]],pieces:[],tiles:[]};function f(e){var t=m.EmptyGameStatic();return t.newGame(),t.setCurrentState(e.gameBoard,e.playerTurn,1),t.russianRules=e.russianRules,t.getLegalMoves(t.board)}function w(e,t){var i=[];if(e.gameBoard.forEach((function(e){i.push(e.slice())})),t.listCaptureCol.length>0){var r=t.listCaptureRow[0],s=t.listCaptureCol[0];i[r][s]=0}if(t.listCaptureCol.length>1){var a=i[t.initialRow][t.initialCol];i[t.initialRow][t.initialCol]=0,(7===t.listVisitedRow[0]&&a%10===1||0===t.listVisitedRow[0]&&a%10===2)&&(a+=2),i[t.listVisitedRow[0]][t.listVisitedCol[0]]=a;for(var n=[],o=[],l=0;l<t.listVisitedRow.length;l++)n.push({y:t.listVisitedRow[l],x:t.listVisitedCol[l]}),o.push({y:t.listCaptureRow[l],x:t.listCaptureCol[l]});return e.players[e.playerTurn-1]?Object(c.a)(Object(c.a)({},e),{},{gameBoard:i,isContiniousMoving:1,continiousMoving:n,continiousCaptured:o,hasSelectedItem:!0,selectedItemRow:t.listVisitedRow[0],selectedItemCol:t.listVisitedCol[0]}):Object(c.a)(Object(c.a)({},e),{},{gameBoard:i,isContiniousMoving:1,continiousMoving:n,continiousCaptured:o,hasSelectedItem:!1})}var u=i[t.startRow][t.startCol];return i[t.startRow][t.startCol]=0,(7===t.endRow&&u%10===1||0===t.endRow&&u%10===2)&&(u+=2),i[t.endRow][t.endCol]=u,Object(c.a)(Object(c.a)({},e),{},{gameBoard:i,isContiniousMoving:0,playerTurn:1===e.playerTurn?2:1,hasSelectedItem:!1})}function v(e,t,i){var r=e.gameBoard[t][i];if(r>0){if(r%10===e.playerTurn||r%10===e.playerTurn+2){var s=f(e);if(0!==s.length){var a=null;if(s.forEach((function(e){e.listCaptureRow.length>0?e.initialRow===t&&e.initialCol===i&&(a=e):e.startRow===t&&e.startCol===i&&(a=e)})),null!==a)return Object(c.a)(Object(c.a)({},e),{},{hasSelectedItem:!0,selectedItemRow:t,selectedItemCol:i})}}}else if(0===r&&e.hasSelectedItem){var n=f(e),o=null;if(n.forEach((function(r){r.listCaptureCol.length>0?r.initialRow===e.selectedItemRow&&r.initialCol===e.selectedItemCol&&r.listVisitedRow[0]===t&&r.listVisitedCol[0]===i&&(o=r):r.startRow===e.selectedItemRow&&r.startCol===e.selectedItemCol&&r.endRow===t&&r.endCol===i&&(o=r)})),null!==o){var l=w(e,o);return Object(c.a)({},l)}}return e}var y=function(e,t){switch(t.type){case"character":return Object(c.a)(Object(c.a)({},e),{},{character:t.character_id,respectfulAppeal:"joy"!==t.character_id});case"change_direction":return console.log("change_direction"),Object(c.a)({},e);case"fire123":return console.log("fire123"),Object(c.a)({},e);case"go":case"go_enemy":return Object(c.a)({},e);case"tile_click":return v(e,t.row,t.column);case"piece_click":return v(e,t.row,t.column);case"arrow_down":return Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0,arrowSelectedItemRow:e.arrowSelectedItemRow>=7?7:e.arrowSelectedItemRow+1});case"arrow_up":return Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0,arrowSelectedItemRow:e.arrowSelectedItemRow>0?e.arrowSelectedItemRow-1:0});case"arrow_right":return Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0,arrowSelectedItemCol:e.arrowSelectedItemCol>=7?7:e.arrowSelectedItemCol+1});case"arrow_left":return Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0,arrowSelectedItemCol:e.arrowSelectedItemCol>0?e.arrowSelectedItemCol-1:0});case"arrow_ok":return e.hasArrowSelectedItem?v(e,e.arrowSelectedItemRow,e.arrowSelectedItemCol):Object(c.a)(Object(c.a)({},e),{},{hasArrowSelectedItem:!0});case"move_robot":var i=m.EmptyGameStatic(),r=new b(e.playerTurn,1);if(i.newGame(),i.setCurrentState(e.gameBoard,e.playerTurn,3),i.russianRules=e.russianRules,0===i.getLegalMoves(i.board).length)console.log("I am lost!");else{var s=r.alphaBetaSearch(i);if(s){i.applyMove(s,i.board),console.log("Player Chose: "),i.printMove(s);var a=w(e,s);return Object(c.a)({},a)}}return Object(c.a)(Object(c.a)({},e),{},{playerTurn:1===e.playerTurn?2:1});case"continue_move_by_robot":if(0===e.isContiniousMoving||!e.players[e.playerTurn-1].isRobot)return e;var n=[];e.gameBoard.forEach((function(e){n.push(e.slice())}));var o=e.isContiniousMoving,l=n[e.continiousMoving[o-1].y][e.continiousMoving[o-1].x],u=e.continiousMoving.length-e.isContiniousMoving;return n[e.continiousMoving[o-1].y][e.continiousMoving[o-1].x]=0,n[e.continiousCaptured[o].y][e.continiousCaptured[o].x]=0,(7===e.continiousMoving[o].y&&l%10===1||0===e.continiousMoving[o].y&&l%10===2)&&(l+=2),n[e.continiousMoving[o].y][e.continiousMoving[o].x]=l,u>1?Object(c.a)(Object(c.a)({},e),{},{gameBoard:n,isContiniousMoving:e.isContiniousMoving+1}):Object(c.a)(Object(c.a)({},e),{},{gameBoard:n,isContiniousMoving:0,playerTurn:1===e.playerTurn?2:1});default:throw new Error}},C=i(1),R=["0vmin","10vmin","20vmin","30vmin","40vmin","50vmin","60vmin","70vmin","80vmin","90vmin"],A=[[0,1,0,2,0,3,0,4],[5,0,6,0,7,0,8,0],[0,9,0,10,0,11,0,12],[13,0,14,0,15,0,16,0],[0,17,0,18,0,19,0,20],[21,0,22,0,23,0,24,0],[0,25,0,26,0,27,0,28],[29,0,30,0,31,0,32,0]],k=[[0,29,0,30,0,31,0,32],[25,0,26,0,27,0,28,0],[0,21,0,22,0,23,0,24],[17,0,18,0,19,0,20,0],[0,13,0,14,0,15,0,16],[9,0,10,0,11,0,12,0],[0,5,0,6,0,7,0,8],[1,0,2,0,3,0,4,0]],j=Object(r.memo)((function(){var e=Object(r.useReducer)(y,g),t=Object(o.a)(e,2),i=t[0],s=t[1],a=Object(r.useRef)(),n=Object(r.useRef)();function c(e){"ArrowDown"===e.key&&(e.preventDefault(),s({type:"arrow_down"})),"ArrowUp"===e.key&&(e.preventDefault(),s({type:"arrow_up"})),"ArrowLeft"===e.key&&(e.preventDefault(),s({type:"arrow_left"})),"ArrowRight"===e.key&&(e.preventDefault(),s({type:"arrow_right"})),"Enter"===e.key&&(e.preventDefault(),s({type:"arrow_ok"}))}function u(e){}function h(e,t,i){i.preventDefault(),s({type:"tile_click",row:e,column:t})}function d(e){for(var t=[],r=[],a=[],n=0,o=function(a){for(var o=function(o){var l=i.gameBoard[a][o],c=l%10;if(c===e||c===e+2){var u=3===c?{top:R[a],left:R[o],backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC+ElEQVRYR9VWMVbbQBD9I96z3YWcADgBpkisLqYIWqrYJwCfIHACyAkgJ8A5AaRilxSQTk4KzAkwJwh0dvKsyZtF68hCsi3DC8mW0uzO3z9//izhmRc9c3783wC0r86J+TbomOa8TM7NwNmrt1VeWLiUxDQcrm18/9KdB8TcAIyv2gC24qSfglBv/zUAp75a9oBrZv5sGSB6FwErm6HuFQUxFwPGV/sA9iJgXRJ6wDmAD0Go5XuhVRjAebW++LNcvgZwE3RMVbKZWiD1XyoNBivr3YvbIgjI+GoPUXQVfDs7mWXjma+2GTgioLURatEBsr5NO8u83mjA81bJ1IJbEL0A82HQMbvTNmpfye1JhXo5Gat9JfVnFeqVaWeYWnAAoh0w35GuBYdE9F42MXBR7vebeTTGqI+z6u10gShq5rFpxct8DCJbOmb+SE7RgkaYYKDnDYfNrL6OjWetNBgsp0FabVQqP+QSKtRWnMl16qt6nHzR5ZLOsSJ0IgJzC0RSVyaiXVdjW+c/xpPb884b0i1pdQbsS+KIqBEDuQpCXbcAkiLCcNhlz2uDaJWBtgp1y4KMjWdSv4/YBCxIYWVQqRwTUAfwtdTvN35VKo2kiC2AuLV6THQp9NmN5XJbDAbMXYqiltiuGI/qmMYkkRlfXQB4Ix7hKJdaq47ZkX3pMo58IOuGuhbsENGBSyiHboZaEuQuW+t7YxKV3YF524kyzZCEjAAkajzmaLF4xCN6znhmaDM7mKTeSXt2HZccXmNOmNfLUhI5sKjLpYFmecg4AEf5hF6edvu8/85DmHlXdcyhixsDMOrlGcRWFIiuBSci6lK//zLJ5INhlBdYNGEy3l0McXsm/z0AkEfVYwCMuimjtJnjuMhgmQVY3gAba8PkQW6wiK/PkmBaTOyEmQ+WTAbiqdW1Y/op1v0MqGY92Qq/iJ4Cz0QRup/aV0cAxh4dj0jec0MtfUYuAyJEApYekXS0lYGb9Asq04ieIlnRM/5dDRS9ybzxvwFIdrAs1qT1KgAAAABJRU5ErkJggg==)"}:4===c?{top:R[a],left:R[o],backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACyElEQVRYR9VWwVEbQRDsgdMbHIFFBIgIDBEgRWARgdFjl+IFflHcPoAIkCMAIkCOwBABcgSGt4TaNVe7qtVxJ+lOLmPv8253p6enp2cF77zknePj/wbgHO9JPFsrnbpM1mYgTdkSwQ8NTGLHWnmoA6I2AOfYB/DZB/1mjHT/GoCzMzaTBE8A7nzQ/fEYW8fHMqwKohYDzvEUwAmAPR/wHsBXY0S/V1qVAVxccHM8zrL/aYy0NJpz1Pp/TBJs9XryXAWBOMeTyQSPR0dyu8zBNGVXBNckDqwV1QGKvi266/yc7bU1bEua8lkEGwAujZHeooNpyicRiDHSjPc6xyEJWitbi+5wjhcADkm8KIBLEXzxhwZJgk4ZjR71TVG9gy4mE3TK2FTxrq/jRgRZ6UhcSVB0hkawQUKV3Cnqa288O40GmnmQXhu/AAyMkSDOKRnOcReAgt8MsbRzMhEGEU0mOBBBXwQk0Qs19nUOxlPa88Eb8i2pOgNw6gO3FQiJR2tlNwMQiwjAg4IAsE2ib60ceJCZ8czr98gfMpCeFc16l8T3RgPt0QjtWMQZAN04GmGo1qr0+YMacJ+Etpgyo7Z7Z4xoBqUrTTkQwSfvEYHyK2vl0Cei82NaxqkPFNHnHPWQKjasPWNkMA+Ar7Uak4rshUQ3iDLPkO6ZAoiGy4yj6YUkbkUwDMazRJtlg2k8Rju259Bx8fCaccKyXtaS6IVVXS4PtMhD8gAyyuf18qLsy/5HHtIzRi7DvhkAUS8vFFtVIM5RrX4/SfAhZvLNMCrbWDVgvD9K7I2HvAFQRtUqAEI3FZW2cBxXGSzLACsbYDNtGF8UPTjm9vwywf0enQOFD5ZCBvzUUkvWMb3yUkN6fUWr6MlW+UW0MprcBaUA0pTXIph5dNQNriM+DLX8HaUAVIj6zqsbNHdO34+Fyfy7JfhDmS+85t0Z+A3L4JeX/JQtUQAAAABJRU5ErkJggg==)"}:{top:R[a],left:R[o]},h=i.hasSelectedItem&&i.selectedItemRow===a&&i.selectedItemCol===o?"piece selected":"piece",d=(i.backwardDirection?k[7-a][7-o]:A[a][o]).toString();t.push(Object(C.jsx)("div",{className:h,id:"piece"+Math.floor(l/10).toString(),style:u,onClick:function(e){return function(e,t,i){i.preventDefault(),s({type:"piece_click",row:e,column:t})}(a,o,e)},children:d},Math.floor(l/10).toString())),r.push({checker:l,idx:n}),n++}},l=0;l<i.gameBoard[a].length;l++)o(l)},l=0;l<i.gameBoard.length;l++)o(l);r.sort((function(e,t){return e.checker-t.checker}));for(var c=0;c<r.length;c++)a.push(t[r[c].idx]);return a}return Object(r.useEffect)((function(){var e;n.current=(e=function(){return a.current},console.log("process.env.NODE_ENV="),console.log("production"),Object(l.a)({getState:e})),n.current.on("data",(function(e){var t,i=e.type,r=e.character,a=e.navigation,o=e.action;e.insets,e.command;if(r&&s({type:"character",character_id:r.id}),o&&s(o),a)switch(a.command){case"UP":s({type:"arrow_up"});break;case"DOWN":s({type:"arrow_down"});break;case"LEFT":s({type:"arrow_left"});break;case"RIGHT":s({type:"arrow_right"});break;case"FORWARD":s({type:"arrow_ok"})}"close_app"===i&&(null===n||void 0===n||null===(t=n.current)||void 0===t||t.close())}))}),[]),Object(r.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",u),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",u)}})),Object(r.useEffect)((function(){i.players[i.playerTurn-1].isRobot&&(0!==i.isContiniousMoving?setTimeout((function(){s({type:"continue_move_by_robot"})}),3100):setTimeout((function(){s({type:"move_robot"})}),410))}),[i.isContiniousMoving,i.playerTurn,i.players]),Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)("div",{className:"column",children:[Object(C.jsxs)("div",{className:"info",children:[Object(C.jsx)("h1",{children:"Checkers"}),Object(C.jsx)("hr",{}),Object(C.jsxs)("p",{children:["Made by codethejason for ",Object(C.jsx)("a",{href:"http://fossasia.org",children:"FOSSASIA"})," 2015."]})]}),Object(C.jsxs)("div",{className:"stats",children:[Object(C.jsx)("h2",{children:"Game Statistics"}),Object(C.jsxs)("div",{className:"wrapper",children:[Object(C.jsx)("div",{id:"player1",children:Object(C.jsx)("h3",{children:"Player 1 (Top)"})}),Object(C.jsx)("div",{id:"player2",children:Object(C.jsx)("h3",{children:"Player 2 (Bottom)"})})]}),Object(C.jsx)("div",{className:"clearfix"}),Object(C.jsx)("div",{className:"turn",style:1===i.playerTurn?{background:"linear-gradient(to right, #BEEE62 50%, transparent 50%)"}:{background:"linear-gradient(to right, transparent 50%, #BEEE62 50%)"}}),Object(C.jsx)("span",{id:"winner"}),Object(C.jsx)("button",{id:"cleargame",onClick:function(e){e.preventDefault(),s({type:"move_robot"})},children:"Reset Game"})]})]}),Object(C.jsx)("div",{className:"column",children:Object(C.jsxs)("div",{id:"board",onKeyDown:function(e){console.debug("key")},children:[Object(C.jsx)("div",{className:"tiles",children:function(){for(var e=[],t=0,r=function(r){for(var s=function(s){if(r%2===1){if(s%2===0){var a={top:i.backwardDirection?R[7-r]:R[r],left:i.backwardDirection?R[7-s]:R[s],color:"#FF3333"},n=(i.backwardDirection?k[7-r][7-s]:A[r][s]).toString();i.gameBoard[r][s]>0&&(n=""),e.push(Object(C.jsx)("div",{className:"tile",id:"tile"+t.toString(),style:a,onClick:function(e){return h(r,s,e)},children:n},t.toString())),t++}}else if(s%2===1){var o={top:i.backwardDirection?R[7-r]:R[r],left:i.backwardDirection?R[7-s]:R[s],color:"#FF3333"},l=(i.backwardDirection?k[7-r][7-s]:A[r][s]).toString();i.gameBoard[r][s]>0&&(l=""),e.push(Object(C.jsx)("div",{className:"tile",id:"tile"+t.toString(),style:o,onClick:function(e){return h(r,s,e)},children:l},t.toString())),t++}},a=0;a<i.gameBoard[r].length;a++)s(a)},s=0;s<i.gameBoard.length;s++)r(s);return e}()}),Object(C.jsxs)("div",{className:"pieces",children:[Object(C.jsx)("div",{className:"player1pieces",children:d(1)}),Object(C.jsx)("div",{className:"player2pieces",children:d(2)})]}),Object(C.jsx)("div",{className:"pult",children:function(){var e=[];if(i.hasArrowSelectedItem){var t={top:R[i.arrowSelectedItemRow],left:R[i.arrowSelectedItemCol]};e.push(Object(C.jsx)("div",{className:"selection",style:t}))}return e}()})]})})]})})),O=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(t){var i=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,n=t.getTTFB;i(e),r(e),s(e),a(e),n(e)}))};n.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(j,{})}),document.getElementById("root")),O()}},[[18,1,2]]]);
//# sourceMappingURL=main.cf8428a6.chunk.js.map